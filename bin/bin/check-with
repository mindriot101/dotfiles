#!/usr/bin/env python
# -*- coding: utf-8 -*-

from __future__ import division, print_function, absolute_import
import argparse
import logging
import subprocess as sp

logging.basicConfig(level='INFO', format='%(levelname)7s %(message)s')
logger = logging.getLogger(__name__)


def run_ds9(filename, catalogue):
    cmd = ['ds9', filename, '-catalog', catalogue, '-catalog', catalogue, 'close']
    logger.debug(' '.join(cmd))
    sp.check_call(cmd)


def main(args):
    if args.verbose:
        logger.setLevel('DEBUG')
    logger.debug(args)
    run_ds9(args.filename, args.catalogue)


if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('filename')
    parser.add_argument('-c', '--catalogue', default='tycho')
    parser.add_argument('-v', '--verbose', action='store_true')
    main(parser.parse_args())
