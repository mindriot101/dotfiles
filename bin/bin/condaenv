#!/usr/bin/env python
# -*- coding: utf-8 -*-

import argparse
import os
import subprocess as sp

def main(args):
    stub = os.path.basename(os.getcwd())
    cmd = ['conda', 'create', '-n', stub,
            '--yes', '--quiet', 'python={}'.format(args.python)]
    # Add default packages
    cmd.extend(args.package)
    sp.check_call(map(str, cmd))


if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('package', nargs='*')
    parser.add_argument('-p', '--python', help='Python version', default=3,
                        required=False)
    main(parser.parse_args())
