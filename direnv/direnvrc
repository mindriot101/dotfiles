use_ruby() {
    source /usr/local/share/chruby/chruby.sh

    local ver=$1
    if [[ -z $ver ]] && [[ -f .ruby-version ]]; then
        ver=$(cat .ruby-version)
    fi
    if [[ -z $ver ]]; then
        echo Unknown ruby version
        exit 1
    fi
    chruby $ver
}

use_conda() {
    local ver=$1
    if [[ ! -d venv ]]; then
        if [[ -z $ver ]]; then
            condaenv ./venv
        else
            condaenv ./venv -p $ver
        fi
    fi

    if [[ -f .gitignore ]]; then
        grep -q venv .gitignore || echo "venv" >> .gitignore
    else
        echo "venv" >> .gitignore
    fi
    source activate ./venv
}

# vim: ft=sh
