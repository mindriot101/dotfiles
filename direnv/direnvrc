use_ruby() {
    source /usr/local/share/chruby/chruby.sh

    local ver=$1
    if [[ -z $ver ]] && [[ -f .ruby-version ]]; then
        ver=$(cat .ruby-version)
    fi
    if [[ -z $ver ]]; then
        echo Unknown ruby version
        exit 1
    fi
    chruby $ver
}

use_conda() {
    local ver=$1
    local envdir=env
    if [[ ! -d $envdir ]]; then
        if [[ -z $ver ]]; then
            condaenv $envdir -p 3
        else
            condaenv $envdir -p $ver
        fi
    fi

    if [[ -f .gitignore ]]; then
        grep -q $envdir .gitignore || echo "$envdir" >> .gitignore
    else
        echo "$envdir" >> .gitignore
    fi
    source activate ./$envdir
}

# vim: ft=sh
