# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000
setopt appendhistory
setopt autocd
unsetopt beep
bindkey -e


autoload -Uz vcs_info

# this is taken from grml's zshrc
function zrcautoload() {
    emulate -L zsh
    setopt extended_glob
    local fdir ffile
    local -i ffound

    ffile=$1
    (( found = 0 )) 
    for fdir in ${fpath} ; do 
        [[ -e ${fdir}/${ffile} ]] && (( ffound = 1 )) 
    done 

    (( ffound == 0 )) && return 1
    if [[ $ZSH_VERSION == 3.1.<6-> || $ZSH_VERSION == <4->* ]] ; then 
        autoload -U ${ffile} || return 1
    else 
        autoload ${ffile} || return 1
    fi
    return 0
}

zrcautoload vcs_info || vcs_info() {return 1}

zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' enable git svn hg

precmd() {
    vcs_info
}

typeset -ga preexec_functions
typeset -ga precmd_functions
typeset -ga chpwd_functions
setopt prompt_subst

# Set up autocompletion
autoload -Uz compinit
compinit -u

# bindkey -M vicmd '?' history-incremental-search-backward

# Turn off autocd
unsetopt autopushd

# Ignore duplicate history entries
zstyle ':completion:*:history-words' stop yes
zstyle ':completion:*:history-words' remove-all-dups yes
zstyle ':completion:*:history-words' list false
zstyle ':completion:*:history-words' menu yes

#Â Enable spell checking
setopt correct

